# CEAF: contexts (Контексты представлений)

Имеет смысл отображать [компоненты](@component/ceaf.app.components) архитектуры в соответствующем контексте.
Например, при рассмотрении архитектуры приложения нецелесообразно показывать компоненты сетевой архитектуры
на той же схеме а выделить их в отдельную. Контексты помогают разделить эти представления.

Можно сказать, что контексты воплощают концепцию модели C4 (https://ru.wikipedia.org/wiki/Модель_C4),
при этом они не ограничивают количество уровней представления, предоставляя гибкость в детализации архитектуры.

Структура манифеста контекста:
```yaml
contexts:                                   # Контексты представления архитектурных компонентов
    dochub:                                 # Идентификатор контекста
        title: Общая архитектура DocHub     # Название контекста. Отображается в заголовке диаграммы
        location: DocHub/Общая архитектура  # Размещение документа в дереве навигации
        extra-links: false                  # Указывает, что не нужно отображать компоненты явно не указанные в контексте
        components:                         # Компоненты входящие в контекст
            - dochub.front                  # Идентификатор компонента
        uml:                                # PlantUML инъекции
          $before: >                        # Вставляет код ПЕРЕД сгенерированным телом диаграммы
            ...                             
          $after: >                         # Вставляет код ПОСЛЕ сгенерированным телом диаграммы
            ...
        uml: ../docs/sequence.puml          # Ссылка на файл с PlantUML кодом полностью переопределяет представление
```
Чтобы понять это лучше, рассмотрим DocHub в C4 Model:

![](@anchor/c4model_1)

## L1: Система в масштабе ее взаимодействия с пользователями и другими системами

![Система в масштабе ее взаимодействия с пользователями и другими системами](@context/dochub)

```code-frame
/contexts/dochub
```

Это простейшее описание контекста. По сути, контекст описывает какие компоненты будут отображаться на схеме,
под каким названием и где пользователь сможет найти контекст в навигационном меню. Связи между компонентами описаны
в самих компонентах (см. [компоненты](@document/ceaf.app.components)).

Обратите внимание, что внизу компонента "DocHub" есть символы ">>". Кликнув по ним, вы "провалитесь" внутрь компонента.

![](@anchor/c4model_2)

## L2: Контейнеры
![Взаимосвязанные контейнеры](@context/dochub.frontend)

```code-frame
/contexts/dochub.frontend
```

## L3: Компоненты
![Взаимосвязанные компоненты](@context/dochub.frontend.module_ai)

```code-frame
/contexts/dochub.frontend.module_ai
```
